input {
    http {
        port => 3000
    }
}
filter {
    grok {
        match => {"[data][log1]" => "%{COMBINEDAPACHELOG}"}
        match => ["[data][log2]", "%{COMBINEDAPACHELOG}"]
        overwrite => ["[data][timestamp]", "[data][verb]"]
        break_on_match => false
    }
    date {
        match => ["[data][timestamp]", "yyyy-MM-dd"]
        target => "[data][@timestamp]"
    }
    kv {
        source => "[data][message]"
        target => "[data][test]"
    }
    mutate {
        add_field => { "message1" => 3 "message2" => 4.2 "message3" => "test3" "message4" => true }
        rename => { "messagea" => "newMessage" "messageb" => "newMessage2" }
        copy => { "messagec" => "messaged" }
        remove_field => ["test", "test2"]
        remove_field => ["test3", "test4"]
    }
}
output {
    elasticsearch {
        hosts => ["https://localhost:19000"]
        user => myuser
        password => mypassword
        index => "simple-pipeline"
    }
}